<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link href="../stylesheets/bootstrap.css" rel="stylesheet" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
    />

    <title>Travel Bag</title>
    <link rel="shortcut icon" href="/images/bbb.png" type="image/png" />

    <style>
      .bta4455 {
        background: #02aab0; /* fallback for old browsers */
        background: -webkit-linear-gradient(
          to bottom,
          #00cdac,
          #02aab0
        ); /* Chrome 10-25, Safari 5.1-6 */
        background: linear-gradient(
          to bottom,
          #00cdac,
          #02aab0
        ); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */
      }

      .bta3435 {
        background-color: #00cdac;
        border: #00cdac;
      }

      @media (min-width: 768px) {
        .gradient-form {
          height: 100vh !important;
        }
      }
      @media (min-width: 769px) {
        .gradient-custom-2 {
          border-top-right-radius: 0.3rem;
          border-bottom-right-radius: 0.3rem;
        }
      }
    </style>

    <title>Agent Sign Up</title>
  </head>
  <body>
    <section class="h-100 gradient-form" style="background-color: #fff">
      <div class="container py-5 h-100 background-color: #fff">
        <div class="row d-flex justify-content-center align-items-center h-100">
          <div class="col-xl-10">
            <div class="card rounded-3 text-black">
              <div class="row g-0">
                <div class="col-lg-6">
                  <div class="card-body p-md-5 mx-md-4">
                    <div class="text-center">
                      <img
                        src="/images/LogoAgent.png"
                        style="width: 185px"
                        alt="logo"
                      />
                      <h4 class="mt-3 mb-5 pb-1">
                        Make your Travel Bag Agent Account Here
                      </h4>
                    </div>

                    <form action="/users/agentSignup" method="post">
                      <p>Please SignUp account</p>

                      <div class="form-outline mb-4">
                        <label class="form-label" for="agentName">Name</label>
                        <input
                          type="text"
                          id="agentName"
                          name="agentName"
                          class="form-control"
                          placeholder="Name"
                          required
                        />
                        <span id="nameError"></span>
                      </div>

                      <div class="form-outline mb-4">
                        <label class="form-label" for="agentEmail">Email</label>
                        <input
                          type="email"
                          id="agentEmail"
                          name="agentEmail"
                          class="form-control"
                          placeholder="Email address"
                          required
                        />
                      </div>

                      <div class="form-outline mb-4">
                        <label class="form-label" for="agentPassword"
                          >Password</label
                        >
                        <input
                          type="password"
                          id="agentPassword"
                          name="agentPassword"
                          class="form-control"
                          placeholder="Password"
                          required
                        />
                      </div>

                      <div class="text-center pt-1 mb-5 pb-1">
                        <button
                          class="btn btn-dark bta3435 btn-block fa-lg gradient-custom-2 mb-3"
                          type="submit"
                          onclick="singupErrorMessage()"
                        >
                          Sign Up
                        </button>
                      </div>

                      <div
                        class="d-flex align-items-center justify-content-center pb-4"
                      ></div>
                    </form>
                  </div>
                </div>
                <div class="col-lg-6 d-flex align-items-center bta4455">
                  <div class="text-white px-3 py-4 p-md-5 mx-md-4">
                    <h4 class="mb-4">We are more than just a travel page</h4>
                    <p class="small mb-0">
                      Improve your business and performance, We can work
                      together and create benefits, Connect with Travel Bag now
                      to grow your business faster.....
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </body>
  <script src="/javascripts/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script>
    $("#agentName").blur(function () {
      $.ajax("/users/checkagentname", {
        type: "POST",
        data: { agentName: $("#agentName").val() },
        success: function (result) {
          if (result.status == "error") {
            alert("Somethings Was Wrong!");
          } else if (result.status == "already name") {
            // alert("Username is already in use, try another username");
            Swal.fire({
              title: "ရှိပြီးသား အမည် ဖြစ်ပါသည်။တခြား အမည် အသုံးပြုပါ။",
              showClass: {
                popup: "animate__animated  animate__fadeInDown",
              },
              hideClass: {
                popup: "animate__animated animate__fadeOutUp",
              },
            });
            $("#agentName").val("");
            $("#agentName").focus();
          }
        },
      });
    });

    $("#agentEmail").blur(function () {
      $.ajax("/users/checkagentemail", {
        type: "POST",
        data: { agentEmail: $("#agentEmail").val() },
        success: function (result) {
          if (result.status == "error") {
            alert("Somethings Was Wrong!");
          } else if (result.status == "have") {
            // alert("Email is already in use,try another email")
            Swal.fire({
              title: "ရှိပြီးသား အီးမေးလ် ဖြစ်ပါသည်။တခြား အီးမေးလ် အသုံးပြုပါ။",
              showClass: {
                popup: "animate__animated animate__fadeInDown",
              },
              hideClass: {
                popup: "animate__animated animate__fadeOutUp",
              },
            });
            $("#agentEmail").val("");
            $("#agentEmail").focus();
          }
        },
      });
    });

    function singupErrorMessage() {
      var error = document.getElementById("nameError");
      if (
        /[0-9,~!@#$%^&*()-+,၁-၉]/.test(
          document.getElementById("agentName").value
        )
      ) {
        // Changing content and color of content
        // error.textContent = "Please enter your name";
        // error.style.color = "red";
        error.innerHTML =
          "<img src='https://cdn4.iconfinder.com/data/icons/set-1/32/__23-512.png' style='width:20px; 'height:10px;'>" +
          "<span style='color: red;'>" +
          " စာသားသီးသန့်သာ ထည့်ရန်</span>";
        $("#agentName").val("");
        $("#agentName").focus();
      } else {
        error.textContent = "";
      }
    }
  </script>
</html>
