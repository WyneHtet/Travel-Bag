<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link href="../stylesheets/bootstrap.css" rel="stylesheet" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css"
    />
    <title>Travel Bag</title>
    <link rel="shortcut icon" href="/images/bbb.png" type="image/png" />

    <style>
      .bta4455 {
        background: #02aab0; /* fallback for old browsers */
        background: -webkit-linear-gradient(
          to bottom,
          #00cdac,
          #02aab0
        ); /* Chrome 10-25, Safari 5.1-6 */
        background: linear-gradient(
          to bottom,
          #00cdac,
          #02aab0
        ); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */
      }

      .bta3435 {
        background-color: #00cdac;
        border: #00cdac;
      }

      @media (min-width: 768px) {
        .gradient-form {
          height: 100vh !important;
        }
      }
      @media (min-width: 769px) {
        .gradient-custom-2 {
          border-top-right-radius: 0.3rem;
          border-bottom-right-radius: 0.3rem;
        }
      }
      .input-box {
        position: relative;
        padding: 0px 25px 0px 20px;
        padding-top: 5px;
        padding-bottom: 5px;
      }
      .show_hide {
        /* position: absolute; */
        right: 29%;
        /* top: 65%; */
      }

      .indicator.active {
        display: block;
      }
      .indicator {
        margin-top: 10px;
        display: none;
      }
      .indicator .icon-text {
        display: flex;
        align-items: center;
      }
      .error_icon {
        margin-right: 10px;
        margin-bottom: 5px;
      }
    </style>
  </head>
  <body>
    <section class="h-100 gradient-form" style="background-color: #fff">
      <div class="container py-5 h-100 background-color: #fff">
        <div class="row d-flex justify-content-center align-items-center h-100">
          <div class="col-xl-10">
            <div class="card rounded-3 text-black">
              <div class="row g-0">
                <div class="col-lg-6">
                  <div class="card-body p-md-5 mx-md-4">
                    <div class="text-center">
                      <img
                        src="/images/LogoAgent.png"
                        style="width: 100px"
                        alt="logo"
                      />
                      <h4 class="mt-3 mb-5 pb-1">အေးဂျင့် အကောင့်ပြုလုပ်ပါ</h4>
                    </div>

                    <form action="/users/agentSignup" method="post">
                      <!-- <p>အေးဂျင့်အကောင့်ပြုလုပ်ပါ</p> -->

                      <div class="form-outline mb-4">
                        <label class="form-label" for="agentName">အမည်</label>
                        <input
                          type="text"
                          id="agentName"
                          name="agentName"
                          class="form-control"
                          placeholder="အမည်"
                          required
                        />
                        <span id="nameError"></span>
                      </div>

                      <div class="form-outline mb-4">
                        <label class="form-label" for="agentEmail"
                          >အီးမေးလ်</label
                        >
                        <input
                          type="email"
                          id="agentEmail"
                          name="agentEmail"
                          class="form-control"
                          placeholder="အီးမေးလ်"
                          placeholder="Email address"
                          required
                        />
                      </div>

                      <div class="form-outline mb-4">
                        <!-- <label class="form-label" for="agentPassword"
                          >စကားဝှက်</label
                        >
                        <input
                          type="password"
                          id="agentPassword"
                          name="agentPassword"
                          class="form-control input-box"
                          placeholder="စကားဝှက်"
                          required
                        /> -->
                        <!-- <div class="form-outline mb-4"> -->
                        <label class="form-label" for="agentPassword"
                          >စကားဝှက်</label
                        >
                        <div class="">
                          <input
                            type="password"
                            id="agentPassword"
                            name="agentPassword"
                            class="font-control input-box"
                            placeholder="စကားဝှက်"
                            required
                          />
                          <i class="fas fa-eye-slash show_hide"></i>
                        </div>
                        <!-- </div> -->
                        <!-- <i class="fas fa-eye-slash show_hide"></i> -->
                        <div>
                          <div class="indicator">
                            <div class="icon-text">
                              <i
                                class="fas fa-exclamation-circle error_icon"
                              ></i>
                              <h6 class="text"></h6>
                            </div>
                          </div>
                        </div>
                      </div>

                      <div class="text-center pt-1 mb-5 pb-1">
                        <button
                          class="btn btn-dark bta3435 btn-block gradient-custom-2 mb-3"
                          type="submit"
                          onclick="singupErrorMessage()"
                        >
                          အကောင့်ပြုလုပ်မည်
                        </button>
                      </div>

                      <div
                        class="d-flex align-items-center justify-content-center pb-4"
                      ></div>
                    </form>
                  </div>
                </div>
                <div class="col-lg-6 d-flex align-items-center bta4455">
                  <div class="text-white px-3 py-4 p-md-5 mx-md-4">
                    <h4 class="mb-4">Travel Bag မှ ကြိုဆိုပါတယ်...</h4>
                    <p class="small mb-0">
                      လူကြီးမင်း၏ လုပ်ငန်းနှင့်စွမ်းဆောင်ရည်တိုးတက်ရန်၊
                      အတူတကွလက်တွဲ၍ အကျိုးအမြတ်များ ဖန်တီးရန်အတွက် အခုပဲ Travel
                      Bage နှင့် ချိတ်ဆက်ပြီးသင့်ရဲ့ လုပ်ငန်းများကို
                      အမြန်ဆုံးတိုးတက်လာအောင် မြှင့်တင်လိုက်ပါ။
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </body>
  <script src="/javascripts/pShow_Hide.js"></script>
  <script src="/javascripts/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script>
    $("#agentName").blur(function () {
      $.ajax("/users/checkagentname", {
        type: "POST",
        data: { agentName: $("#agentName").val() },
        success: function (result) {
          if (result.status == "error") {
            alert("Somethings Was Wrong!");
          } else if (result.status == "already name") {
            // alert("Username is already in use, try another username");
            Swal.fire({
              title: "ရှိပြီးသား အမည် ဖြစ်ပါသည်။တခြား အမည် အသုံးပြုပါ။",
              showClass: {
                popup: "animate__animated  animate__fadeInDown",
              },
              hideClass: {
                popup: "animate__animated animate__fadeOutUp",
              },
            });
            $("#agentName").val("");
            $("#agentName").focus();
          }
        },
      });
    });

    $("#agentEmail").blur(function () {
      $.ajax("/users/checkagentemail", {
        type: "POST",
        data: { agentEmail: $("#agentEmail").val() },
        success: function (result) {
          if (result.status == "error") {
            alert("Somethings Was Wrong!");
          } else if (result.status == "have") {
            // alert("Email is already in use,try another email")
            Swal.fire({
              title: "ရှိပြီးသား အီးမေးလ် ဖြစ်ပါသည်။တခြား အီးမေးလ် အသုံးပြုပါ။",
              showClass: {
                popup: "animate__animated animate__fadeInDown",
              },
              hideClass: {
                popup: "animate__animated animate__fadeOutUp",
              },
            });
            $("#agentEmail").val("");
            $("#agentEmail").focus();
          }
        },
      });
    });

    function singupErrorMessage() {
      var error = document.getElementById("nameError");
      if (
        /[0-9,~!@#$%^&*()-+,၁-၉]/.test(
          document.getElementById("agentName").value
        )
      ) {
        error.innerHTML =
          "<img src='https://cdn4.iconfinder.com/data/icons/set-1/32/__23-512.png' style='width:20px; 'height:10px;'>" +
          "<span style='color: red;'>" +
          " စာသားသီးသန့်သာ ထည့်ရန်</span>";
        $("#agentName").val("");
        $("#agentName").focus();
      } else {
        error.textContent = "";
      }
    }
  </script>
</html>
